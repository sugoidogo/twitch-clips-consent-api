var s=class{constructor(t){this.authProvider=t}getShortConsentURL(){return new URL(import.meta.url,"/consent").href}getLongConsentURL(){let t=new URL("https://id.twitch.tv/oauth2/authorize");return t.searchParams.append("client_id",this.authProvider.clientId),t.searchParams.append("response_type","code"),t.searchParams.append("scope","channel:manage:clips"),t.href+"redirect_uri="+this.getShortConsentURL()}async getClipDownloads(t=0,...n){let o=await this.authProvider.getAnyAccessToken(),e=new Headers;e.append("client-id",this.authProvider.clientId),e.append("authorization","OAuth "+o.accessToken);let r=new URL(import.meta.url,"/clip");r.searchParams.append("broadcaster_id",String(t));for(let i of n)r.searchParams.append("clip_id",i);let a=await fetch(r,{headers:e});if(a.status!=200)throw new Error(a.statusText);return a.json()}};export{s as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidHd1cnBsZS1jbGlwLWNvbnNlbnQudHMiXSwKICAibWFwcGluZ3MiOiAiQUFXQSxJQUFxQkEsRUFBckIsS0FBaUMsQ0FFN0IsWUFBWUMsRUFBMkIsQ0FDbkMsS0FBSyxhQUFlQSxDQUN4QixDQUNBLG9CQUE2QixDQUN6QixPQUFPLElBQUksSUFBSSxZQUFZLElBQUssVUFBVSxFQUFFLElBQ2hELENBQ0EsbUJBQTRCLENBQ3hCLElBQU1DLEVBQVcsSUFBSSxJQUFJLHVDQUF1QyxFQUNoRSxPQUFBQSxFQUFTLGFBQWEsT0FBTyxZQUFhLEtBQUssYUFBYSxRQUFRLEVBQ3BFQSxFQUFTLGFBQWEsT0FBTyxnQkFBaUIsTUFBTSxFQUNwREEsRUFBUyxhQUFhLE9BQU8sUUFBUyxzQkFBc0IsRUFDckRBLEVBQVMsS0FBTyxnQkFBa0IsS0FBSyxtQkFBbUIsQ0FDckUsQ0FDQSxNQUFNLGlCQUFpQkMsRUFBaUIsS0FBTUMsRUFBa0MsQ0FDNUUsSUFBTUMsRUFBZ0IsTUFBTSxLQUFLLGFBQWEsa0JBQWtCLEVBQzFEQyxFQUFpQixJQUFJLFFBQzNCQSxFQUFlLE9BQU8sWUFBYSxLQUFLLGFBQWEsUUFBUSxFQUM3REEsRUFBZSxPQUFPLGdCQUFpQixTQUFXRCxFQUFjLFdBQVcsRUFDM0UsSUFBTUUsRUFBYSxJQUFJLElBQUksWUFBWSxJQUFLLE9BQU8sRUFDbkRBLEVBQVcsYUFBYSxPQUFPLGlCQUFrQixPQUFPSixDQUFjLENBQUMsRUFDdkUsUUFBV0ssS0FBYUosRUFDcEJHLEVBQVcsYUFBYSxPQUFPLFVBQVdDLENBQVMsRUFFdkQsSUFBTUMsRUFBVyxNQUFNLE1BQU1GLEVBQVksQ0FBRSxRQUFTRCxDQUFlLENBQUMsRUFDcEUsR0FBSUcsRUFBUyxRQUFVLElBQ25CLE1BQU0sSUFBSSxNQUFNQSxFQUFTLFVBQVUsRUFFdkMsT0FBT0EsRUFBUyxLQUFLLENBQ3pCLENBQ0oiLAogICJuYW1lcyI6IFsiQ2xpcENvbnNlbnQiLCAiYXV0aFByb3ZpZGVyIiwgImF1dGhfdXJpIiwgImJyb2FkY2FzdGVyX2lkIiwgImNsaXBfaWQiLCAiYXV0aG9yaXphdGlvbiIsICJyZXF1ZXN0SGVhZGVycyIsICJyZXF1ZXN0VVJMIiwgImFfY2xpcF9pZCIsICJyZXNwb25zZSJdCn0K
