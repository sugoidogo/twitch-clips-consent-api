var n={},s=class{constructor(t){this.authProvider=t}getShortConsentURL(){return new URL(n.url,"/consent").href}getLongConsentURL(){let t=new URL("https://id.twitch.tv/oauth2/authorize");return t.searchParams.append("client_id",this.authProvider.clientId),t.searchParams.append("response_type","code"),t.searchParams.append("scope","channel:manage:clips"),t.href+"redirect_uri="+this.getShortConsentURL()}async getClipDownloads(t=0,...o){let i=await this.authProvider.getAnyAccessToken(),e=new Headers;e.append("client-id",this.authProvider.clientId),e.append("authorization","OAuth "+i.accessToken);let r=new URL(n.url,"/clip");r.searchParams.append("broadcaster_id",String(t));for(let d of o)r.searchParams.append("clip_id",d);let a=await fetch(r,{headers:e});if(a.status!=200)throw new Error(a.statusText);return a.json()}};export{s as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidHd1cnBsZS1jbGlwLWNvbnNlbnQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7QXV0aFByb3ZpZGVyfSBmcm9tICdAdHd1cnBsZS9hdXRoJ1xuXG5pbnRlcmZhY2UgQ2xpcERvd25sb2FkcyB7XG4gICAgY2xpcF9pZDogc3RyaW5nLFxuICAgIGxhbmRzY2FwZV9kb3dubG9hZF91cmw6IHN0cmluZ3wgbnVsbCxcbiAgICBwb3J0cmFpdF9kb3dubG9hZF91cmw6IHN0cmluZyB8IG51bGwsXG59XG5pbnRlcmZhY2UgQ2xpcHNEb3dubG9hZHMge1xuICAgIGRhdGE6IENsaXBEb3dubG9hZHNbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlwQ29uc2VudCB7XG4gICAgYXV0aFByb3ZpZGVyOiBBdXRoUHJvdmlkZXJcbiAgICBjb25zdHJ1Y3RvcihhdXRoUHJvdmlkZXI6QXV0aFByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMuYXV0aFByb3ZpZGVyID0gYXV0aFByb3ZpZGVyXG4gICAgfVxuICAgIGdldFNob3J0Q29uc2VudFVSTCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gbmV3IFVSTChpbXBvcnQubWV0YS51cmwsICcvY29uc2VudCcpLmhyZWZcbiAgICB9XG4gICAgZ2V0TG9uZ0NvbnNlbnRVUkwoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYXV0aF91cmkgPSBuZXcgVVJMKCdodHRwczovL2lkLnR3aXRjaC50di9vYXV0aDIvYXV0aG9yaXplJylcbiAgICAgICAgYXV0aF91cmkuc2VhcmNoUGFyYW1zLmFwcGVuZCgnY2xpZW50X2lkJywgdGhpcy5hdXRoUHJvdmlkZXIuY2xpZW50SWQpXG4gICAgICAgIGF1dGhfdXJpLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3Jlc3BvbnNlX3R5cGUnLCAnY29kZScpXG4gICAgICAgIGF1dGhfdXJpLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3Njb3BlJywgJ2NoYW5uZWw6bWFuYWdlOmNsaXBzJylcbiAgICAgICAgcmV0dXJuIGF1dGhfdXJpLmhyZWYgKyAncmVkaXJlY3RfdXJpPScgKyB0aGlzLmdldFNob3J0Q29uc2VudFVSTCgpXG4gICAgfVxuICAgIGFzeW5jIGdldENsaXBEb3dubG9hZHMoYnJvYWRjYXN0ZXJfaWQgPSAwLCAuLi5jbGlwX2lkKTogUHJvbWlzZTxDbGlwc0Rvd25sb2Fkcz4ge1xuICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uID0gYXdhaXQgdGhpcy5hdXRoUHJvdmlkZXIuZ2V0QW55QWNjZXNzVG9rZW4oKVxuICAgICAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuYXBwZW5kKCdjbGllbnQtaWQnLCB0aGlzLmF1dGhQcm92aWRlci5jbGllbnRJZClcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuYXBwZW5kKCdhdXRob3JpemF0aW9uJywgJ09BdXRoICcgKyBhdXRob3JpemF0aW9uLmFjY2Vzc1Rva2VuKVxuICAgICAgICBjb25zdCByZXF1ZXN0VVJMID0gbmV3IFVSTChpbXBvcnQubWV0YS51cmwsICcvY2xpcCcpXG4gICAgICAgIHJlcXVlc3RVUkwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnYnJvYWRjYXN0ZXJfaWQnLCBTdHJpbmcoYnJvYWRjYXN0ZXJfaWQpKVxuICAgICAgICBmb3IgKGNvbnN0IGFfY2xpcF9pZCBvZiBjbGlwX2lkKSB7XG4gICAgICAgICAgICByZXF1ZXN0VVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2NsaXBfaWQnLCBhX2NsaXBfaWQpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0VVJMLCB7IGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzIH0pXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgfVxufSJdLAogICJtYXBwaW5ncyI6ICJBQUFBLElBQUFBLEVBQUEsR0FXcUJDLEVBQXJCLEtBQWlDLENBRTdCLFlBQVlDLEVBQTJCLENBQ25DLEtBQUssYUFBZUEsQ0FDeEIsQ0FDQSxvQkFBNkIsQ0FDekIsT0FBTyxJQUFJLElBQUlGLEVBQVksSUFBSyxVQUFVLEVBQUUsSUFDaEQsQ0FDQSxtQkFBNEIsQ0FDeEIsSUFBTUcsRUFBVyxJQUFJLElBQUksdUNBQXVDLEVBQ2hFLE9BQUFBLEVBQVMsYUFBYSxPQUFPLFlBQWEsS0FBSyxhQUFhLFFBQVEsRUFDcEVBLEVBQVMsYUFBYSxPQUFPLGdCQUFpQixNQUFNLEVBQ3BEQSxFQUFTLGFBQWEsT0FBTyxRQUFTLHNCQUFzQixFQUNyREEsRUFBUyxLQUFPLGdCQUFrQixLQUFLLG1CQUFtQixDQUNyRSxDQUNBLE1BQU0saUJBQWlCQyxFQUFpQixLQUFNQyxFQUFrQyxDQUM1RSxJQUFNQyxFQUFnQixNQUFNLEtBQUssYUFBYSxrQkFBa0IsRUFDMURDLEVBQWlCLElBQUksUUFDM0JBLEVBQWUsT0FBTyxZQUFhLEtBQUssYUFBYSxRQUFRLEVBQzdEQSxFQUFlLE9BQU8sZ0JBQWlCLFNBQVdELEVBQWMsV0FBVyxFQUMzRSxJQUFNRSxFQUFhLElBQUksSUFBSVIsRUFBWSxJQUFLLE9BQU8sRUFDbkRRLEVBQVcsYUFBYSxPQUFPLGlCQUFrQixPQUFPSixDQUFjLENBQUMsRUFDdkUsUUFBV0ssS0FBYUosRUFDcEJHLEVBQVcsYUFBYSxPQUFPLFVBQVdDLENBQVMsRUFFdkQsSUFBTUMsRUFBVyxNQUFNLE1BQU1GLEVBQVksQ0FBRSxRQUFTRCxDQUFlLENBQUMsRUFDcEUsR0FBSUcsRUFBUyxRQUFVLElBQ25CLE1BQU0sSUFBSSxNQUFNQSxFQUFTLFVBQVUsRUFFdkMsT0FBT0EsRUFBUyxLQUFLLENBQ3pCLENBQ0oiLAogICJuYW1lcyI6IFsiaW1wb3J0X21ldGEiLCAiQ2xpcENvbnNlbnQiLCAiYXV0aFByb3ZpZGVyIiwgImF1dGhfdXJpIiwgImJyb2FkY2FzdGVyX2lkIiwgImNsaXBfaWQiLCAiYXV0aG9yaXphdGlvbiIsICJyZXF1ZXN0SGVhZGVycyIsICJyZXF1ZXN0VVJMIiwgImFfY2xpcF9pZCIsICJyZXNwb25zZSJdCn0K
